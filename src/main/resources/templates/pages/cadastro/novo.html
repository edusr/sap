<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="'layout/default'">
<head>
<title>Sistema Apoio a Produção</title>
</head>
<body>
	<section layout:fragment="conteudo">
	  <section class="content">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Novo(a): </h3>
            
            
            <select name="id_form" id="id_form">
			  <option value="">Escolha uma opção...</option>
			  <option value="host">Host</option>
			  <option value="impressora">Impressora</option>
			  <option value="modelImp">Modelo Impressora</option>
			  <option value="tonner">Tonner</option>
			</select>
		    
          
	        <a style="float:right" th:href="@{/novo}">
		      <span  class="glyphicon glyphicon-refresh"></span>
		      <b>Atualizar campos</b>
		    </a>

		    <div id="mensagemRetornoCadastro" class="alert alert-success" style="text-align:center" th:text="${mensagem}" 
		      th:if="${not #strings.isEmpty(mensagem)}">
		    </div>
          </div>
          
		  <div id="host" class="formulario" style="display:none;">
			<div th:replace="/formularios/formHost :: formHost"></div>
		  </div>
		  
		  <div id="tonner" class="formulario" style="display:none;">
			<div th:replace="/formularios/formTonner :: formTonner"></div>
		  </div>
		  
		  <div id="modelImp" class="formulario" style="display:none;">
			<div th:replace="/formularios/formModeloImpressora :: formModeloImpressora"></div>
		  </div>
		  
 		  <div id="impressora" class="formulario" style="display:none;">
			<div th:replace="/formularios/formImpressora :: formImpressora"></div>
		  </div>
				 
        </div>
      </section>
	</section>
	
	<th:block layout:fragment="javascript-extra">
	
	  <script>
		$("#id_form").on('change', function(){
		    $('.formulario').hide();
		    $('#' + this.value).show();
		}); 
	  </script>
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="https://rawgit.com/digitalBush/jquery.maskedinput/1.4.1/dist/jquery.maskedinput.min.js"></script>
	
	<script>
		var macAddress = document.getElementById("macAddress");
		
		function formatMAC(e) {
		    var r = /([a-f0-9]{2})([a-f0-9]{2})/i,
		        str = e.target.value.replace(/[^a-f0-9]/ig, "");
		
		    while (r.test(str)) {
		        str = str.replace(r, '$1' + ':' + '$2');
		    }
		
		    e.target.value = str.slice(0, 17);
		};
		
		macAddress.addEventListener("keyup", formatMAC, false)
	</script>
	
	<script>
		$().ready(function() {
			setTimeout(function () {
				$('#mensagemRetornoCadastro').hide(); // "mensagemRetornoCadastro" é o id do elemento que seja manipular.
			}, 3400); // O valor é representado em milisegundos.
		});
	</script>
	</th:block>
</body>
</html>